<!doctype html>
<html>
<head><meta charset='utf-8'><title>Reservas - User</title></head>
<body>
<h2>Crear reserva</h2>
<form id='resForm'>
  Sala ID: <input id='sala'/><br/>
  Fecha (YYYY-MM-DD): <input id='fecha'/><br/>
  Turno ID: <input id='turno'/><br/>
  Participantes (CI separados por coma): <input id='part'/><br/>
  <button>Crear</button>
</form>
<pre id='out'></pre>
<script>
const api = 'http://localhost:5000';
document.getElementById('resForm').addEventListener('submit', async e => {
  e.preventDefault();
  const body = {
    id_sala: parseInt(document.getElementById('sala').value),
    fecha: document.getElementById('fecha').value,
    id_turno: parseInt(document.getElementById('turno').value),
    participantes: document.getElementById('part').value.split(',').map(s=>s.trim())
  };
  const token = localStorage.getItem('token');
  const res = await fetch(api + '/reservas', {
    method:'POST', headers:{'Content-Type':'application/json', 'Authorization': 'Bearer ' + token}, body: JSON.stringify(body)
  });
  const js = await res.json();
  document.getElementById('out').textContent = JSON.stringify(js, null, 2);
});
</script>
</body>
</html>
