<!doctype html>
<html>
<head><meta charset='utf-8'><title>Admin</title></head>
<body>
<h2>Reportes - Salas más reservadas</h2>
<button id='load'>Cargar</button>
<pre id='r'></pre>

<h3>Disparar comprobación no-shows</h3>
<button id='chk'>Ejecutar</button>
<pre id='res'></pre>

<script>
const api='http://localhost:5000';
document.getElementById('load').addEventListener('click', async ()=>{
  const res = await fetch(api + '/reportes/salas-mas-reservadas');
  document.getElementById('r').textContent = JSON.stringify(await res.json(),null,2);
});
document.getElementById('chk').addEventListener('click', async ()=>{
  const token = localStorage.getItem('token');
  const res = await fetch(api + '/admin/trigger_check_no_show', { method:'POST', headers: { 'Authorization': 'Bearer ' + token } });
  document.getElementById('res').textContent = JSON.stringify(await res.json(),null,2);
});
</script>
</body>
</html>
